"use strict";var querySelector=document.querySelector.bind(document);document.addEventListener("DOMContentLoaded",function(){var t=querySelector(".js-is-loading"),e=Snap("#svg");e.attr({viewBox:[0,0,750,980]}),Snap.load("assets/images/guiyang.svg",function(n){function s(t,n){e.select(t).click(function(){function e(){c.setAttribute("src","assets/images/"+s+".jpg"),c.classList.add("animate-name"),querySelector(".js-path-name").textContent=" / "+n}var s=t.substring(1);c.classList.remove("animate-name"),setTimeout(e,500)})}function o(){fetch("assets/javascripts/data/path.json").then(function(t){return t.json()}).then(function(t){t.map(function(n,o){e.text(n.textPositon.x,n.textPositon.y,n.text).attr({fontSize:n.fontSize+"rem",fill:"#333"}),e.select(n.selector).click(function(){e.select(n.selector).animate({fill:"white"},400),t.forEach(function(t){t.isClicked||e.select(t.selector).attr({fill:t.color})})}),s(n.selector,n.text),e.select(n.selector).animate({fill:n.color,stroke:"#333"},1e3+100*o,mina.bounce)})})["catch"](function(t){console.error(t)})}t.classList.add("hidden"),e.append(n);var c=querySelector(".js-img-city");o()})});